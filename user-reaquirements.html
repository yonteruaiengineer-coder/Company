<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resume Processing & JD Alignment</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #4f46e5;
            --primary-dark: #4338ca;
            --secondary: #f3f4f6;
            --success: #10b981;
            --danger: #ef4444;
            --text: #1f2937;
            --text-light: #6b7280;
            --border: #e5e7eb;
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', sans-serif;
        }
        
        body {
            background-color: #f9fafb;
            color: var(--text);
            line-height: 1.6;
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 2rem;
        }
        
        header {
            text-align: center;
            margin-bottom: 2rem;
        }
        
        h1 {
            font-size: 2rem;
            color: var(--primary);
            margin-bottom: 0.5rem;
        }
        
        .subtitle {
            color: var(--text-light);
            font-size: 1.1rem;
        }
        
        .progress-bar {
            display: flex;
            justify-content: space-between;
            margin: 2rem 0 3rem;
            position: relative;
        }
        
        .progress-bar::before {
            content: '';
            position: absolute;
            top: 15px;
            left: 0;
            right: 0;
            height: 4px;
            background-color: var(--border);
            z-index: 1;
        }
        
        .progress-bar .progress {
            position: absolute;
            top: 15px;
            left: 0;
            height: 4px;
            background-color: var(--primary);
            z-index: 2;
            transition: width 0.3s ease;
        }
        
        .step {
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
            z-index: 3;
        }
        
        .step-circle {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background-color: white;
            border: 2px solid var(--border);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 0.5rem;
            transition: all 0.3s ease;
        }
        
        .step.active .step-circle {
            border-color: var(--primary);
            background-color: var(--primary);
            color: white;
        }
        
        .step.completed .step-circle {
            border-color: var(--success);
            background-color: var(--success);
            color: white;
        }
        
        .step-name {
            font-size: 0.85rem;
            color: var(--text-light);
            text-align: center;
            max-width: 100px;
        }
        
        .step.active .step-name {
            color: var(--primary);
            font-weight: 600;
        }
        
        .card {
            background: white;
            border-radius: 12px;
            box-shadow: var(--shadow);
            padding: 2rem;
            margin-bottom: 2rem;
        }
        
        .card-title {
            font-size: 1.5rem;
            margin-bottom: 1.5rem;
            color: var(--text);
            display: flex;
            align-items: center;
        }
        
        .card-title i {
            margin-right: 0.75rem;
            color: var(--primary);
        }
        
        .form-group {
            margin-bottom: 1.5rem;
        }
        
        label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
        }
        
        input, select, textarea {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid var(--border);
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.3s;
        }
        
        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1);
        }
        
        .radio-group, .checkbox-group {
            display: flex;
            gap: 1rem;
            margin-top: 0.5rem;
        }
        
        .radio-option, .checkbox-option {
            display: flex;
            align-items: center;
        }
        
        .radio-option input, .checkbox-option input {
            width: auto;
            margin-right: 0.5rem;
        }
        
        .btn {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }
        
        .btn i {
            margin-right: 0.5rem;
        }
        
        .btn-primary {
            background-color: var(--primary);
            color: white;
        }
        
        .btn-primary:hover {
            background-color: var(--primary-dark);
        }
        
        .btn-secondary {
            background-color: var(--secondary);
            color: var(--text);
        }
        
        .btn-secondary:hover {
            background-color: #e5e7eb;
        }
        
        .btn-success {
            background-color: var(--success);
            color: white;
        }
        
        .btn-success:hover {
            background-color: #059669;
        }
        
        .btn-sm {
            padding: 0.5rem 1rem;
            font-size: 0.875rem;
        }
        
        .btn-group {
            display: flex;
            justify-content: space-between;
            margin-top: 2rem;
        }
        
        .file-upload {
            position: relative;
            display: inline-block;
            cursor: pointer;
            width: 100%;
        }
        
        .file-upload input[type=file] {
            position: absolute;
            opacity: 0;
            width: 100%;
            height: 100%;
            cursor: pointer;
        }
        
        .file-upload-label {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 2rem;
            border: 2px dashed var(--border);
            border-radius: 8px;
            background-color: #f9fafb;
            transition: all 0.3s;
        }
        
        .file-upload:hover .file-upload-label {
            border-color: var(--primary);
            background-color: rgba(79, 70, 229, 0.05);
        }
        
        .file-upload i {
            font-size: 2rem;
            color: var(--primary);
            margin-bottom: 1rem;
        }
        
        .client-card {
            background-color: var(--secondary);
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
        }
        
        .client-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }
        
        .client-title {
            font-weight: 600;
            font-size: 1.1rem;
        }
        
        .tag {
            display: inline-flex;
            align-items: center;
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            font-size: 0.85rem;
            font-weight: 500;
            margin-right: 0.5rem;
            margin-bottom: 0.5rem;
        }
        
        .tag-cloud {
            background-color: rgba(59, 130, 246, 0.1);
            color: #2563eb;
        }
        
        .tag-domain {
            background-color: rgba(16, 185, 129, 0.1);
            color: #047857;
        }
        
        .tag-cert {
            background-color: rgba(139, 92, 246, 0.1);
            color: #6d28d9;
        }
        
        .tag .remove-tag {
            margin-left: 0.5rem;
            cursor: pointer;
            background: none;
            border: none;
            color: inherit;
            font-size: 0.75rem;
        }
        
        .hidden {
            display: none;
        }
        
        .notification {
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
        }
        
        .notification-success {
            background-color: rgba(16, 185, 129, 0.1);
            color: #047857;
        }
        
        .notification i {
            margin-right: 0.75rem;
            font-size: 1.25rem;
        }
        
        .review-section {
            margin-bottom: 2rem;
        }
        
        .review-title {
            font-weight: 600;
            margin-bottom: 0.75rem;
            color: var(--primary);
            font-size: 1.1rem;
        }
        
        .review-content {
            background-color: var(--secondary);
            padding: 1rem;
            border-radius: 8px;
        }
        
        .review-item {
            margin-bottom: 0.5rem;
        }
        
        .review-item strong {
            color: var(--text);
        }
        
        .tag-container {
            display: flex;
            flex-wrap: wrap;
            margin-top: 0.5rem;
        }
        
        .add-tag-container {
            display: flex;
            gap: 0.5rem;
            margin-top: 0.5rem;
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 1rem;
            }
            
            .card {
                padding: 1.5rem;
            }
            
            .progress-bar {
                overflow-x: auto;
                padding-bottom: 1rem;
            }
            
            .btn-group {
                flex-direction: column;
                gap: 1rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Resume Processing & JD Alignment</h1>
            <p class="subtitle">Customize your resume based on the job description</p>
        </header>
        
        <div class="progress-bar">
            <div class="progress" id="progress" style="width: 14.28%"></div>
            <div class="step active" id="step1">
                <div class="step-circle">1</div>
                <div class="step-name">Upload Resume</div>
            </div>
            <div class="step" id="step2">
                <div class="step-circle">2</div>
                <div class="step-name">Process Resume</div>
            </div>
            <div class="step" id="step3">
                <div class="step-circle">3</div>
                <div class="step-name">Personal Info</div>
            </div>
            <div class="step" id="step4">
                <div class="step-circle">4</div>
                <div class="step-name">Client Count</div>
            </div>
            <div class="step" id="step5">
                <div class="step-circle">5</div>
                <div class="step-name">Client Experience</div>
            </div>
            <div class="step" id="step6">
                <div class="step-circle">6</div>
                <div class="step-name">Certifications</div>
            </div>
            <div class="step" id="step7">
                <div class="step-circle">7</div>
                <div class="step-name">Final Review</div>
            </div>
        </div>
        
        <!-- Step 1: Upload Resume -->
        <div id="upload-section" class="card">
            <h2 class="card-title">
                <i class="fas fa-upload"></i>
                Upload Your Resume
            </h2>
            <div class="form-group">
                <label>Upload your resume in .docx, .pdf, or .doc format</label>
                <div class="file-upload">
                    <input type="file" id="resume-upload" accept=".docx,.pdf,.doc">
                    <label for="resume-upload" class="file-upload-label">
                        <i class="fas fa-cloud-upload-alt"></i>
                        <span>Click to upload or drag and drop</span>
                        <span style="font-size: 0.85rem; color: var(--text-light);">Supported formats: .docx, .pdf, .doc</span>
                    </label>
                </div>
            </div>
            <div class="btn-group">
                <div></div>
                <button class="btn btn-primary" id="process-btn" disabled>
                    <i class="fas fa-cogs"></i>
                    Process Resume
                </button>
            </div>
        </div>
        
        <!-- Step 2: Process Resume (hidden initially) -->
        <div id="process-section" class="card hidden">
            <h2 class="card-title">
                <i class="fas fa-cogs"></i>
                Processing Your Resume
            </h2>
            <div class="notification notification-success">
                <i class="fas fa-check-circle"></i>
                <span>Resume uploaded successfully! Processing your information...</span>
            </div>
            <div class="btn-group">
                <button class="btn btn-secondary" id="back-to-upload">
                    <i class="fas fa-arrow-left"></i>
                    Back
                </button>
                <button class="btn btn-primary" id="continue-to-personal">
                    <i class="fas fa-arrow-right"></i>
                    Continue to Personal Info
                </button>
            </div>
        </div>
        
        <!-- Step 3: Personal Info -->
        <div id="personal-section" class="card hidden">
            <h2 class="card-title">
                <i class="fas fa-user"></i>
                Personal Information
            </h2>
            <div class="form-group">
                <label>Full Name</label>
                <input type="text" id="name" value="Jane Smith">
            </div>
            <div class="form-group">
                <label>Email</label>
                <input type="email" id="email" value="jane.smith@example.com">
            </div>
            <div class="form-group">
                <label>Phone</label>
                <input type="tel" id="phone" value="+1-555-987-6543">
            </div>
            <div class="form-group">
                <label>LinkedIn URL</label>
                <input type="text" id="linkedin" value="https://www.linkedin.com/in/janesmith">
            </div>
            <div class="form-group">
                <label>Current Resume Title</label>
                <input type="text" id="resume-title" value="Data Engineer">
            </div>
            <div class="form-group">
                <label>Do you want to change your resume title according to JD?</label>
                <div class="radio-group">
                    <div class="radio-option">
                        <input type="radio" id="title-change-yes" name="title-change" value="yes">
                        <label for="title-change-yes">Yes</label>
                    </div>
                    <div class="radio-option">
                        <input type="radio" id="title-change-no" name="title-change" value="no" checked>
                        <label for="title-change-no">No</label>
                    </div>
                </div>
            </div>
            <div class="btn-group">
                <button class="btn btn-secondary" id="back-to-process">
                    <i class="fas fa-arrow-left"></i>
                    Back
                </button>
                <button class="btn btn-primary" id="continue-to-clients">
                    <i class="fas fa-arrow-right"></i>
                    Continue to Client Count
                </button>
            </div>
        </div>
        
        <!-- Step 4: Number of Clients -->
        <div id="clients-section" class="card hidden">
            <h2 class="card-title">
                <i class="fas fa-building"></i>
                Number of Clients
            </h2>
            <div class="form-group">
                <label>How many companies have you worked at?</label>
                <select id="client-count">
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3" selected>3</option>
                    <option value="4">4</option>
                    <option value="5">5+</option>
                </select>
            </div>
            <div class="btn-group">
                <button class="btn btn-secondary" id="back-to-personal">
                    <i class="fas fa-arrow-left"></i>
                    Back
                </button>
                <button class="btn btn-primary" id="continue-to-experience">
                    <i class="fas fa-arrow-right"></i>
                    Continue to Experience
                </button>
            </div>
        </div>
        
        <!-- Step 5: Client Experiences -->
        <div id="experience-section" class="card hidden">
            <h2 class="card-title">
                <i class="fas fa-briefcase"></i>
                Client Experience
            </h2>
            <div id="client-experience-container">
                <!-- Client experiences will be dynamically added here -->
            </div>
            <div class="btn-group">
                <button class="btn btn-secondary" id="back-to-clients">
                    <i class="fas fa-arrow-left"></i>
                    Back
                </button>
                <button class="btn btn-primary" id="continue-to-certifications">
                    <i class="fas fa-arrow-right"></i>
                    Continue to Certifications
                </button>
            </div>
        </div>
        
        <!-- Step 6: Certifications -->
        <div id="certifications-section" class="card hidden">
            <h2 class="card-title">
                <i class="fas fa-certificate"></i>
                Certifications
            </h2>
            <div class="form-group">
                <label>Your Current Certifications</label>
                <div id="certifications-list" class="tag-container">
                    <div class="tag tag-cert">
                        Certified Kubernetes Administrator
                        <button class="remove-tag" data-cert="Certified Kubernetes Administrator">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    <div class="tag tag-cert">
                        Google Cloud Professional Data Engineer
                        <button class="remove-tag" data-cert="Google Cloud Professional Data Engineer">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                </div>
                <div class="add-tag-container">
                    <input type="text" id="new-certification" placeholder="Add a certification">
                    <button class="btn btn-primary btn-sm" id="add-certification-btn">
                        <i class="fas fa-plus"></i>
                        Add
                    </button>
                </div>
            </div>
            <div class="form-group">
                <label>Do you want to add certifications according to JD?</label>
                <div class="radio-group">
                    <div class="radio-option">
                        <input type="radio" id="cert-add-yes" name="cert-add" value="yes">
                        <label for="cert-add-yes">Yes</label>
                    </div>
                    <div class="radio-option">
                        <input type="radio" id="cert-add-no" name="cert-add" value="no" checked>
                        <label for="cert-add-no">No</label>
                    </div>
                </div>
            </div>
            <div class="btn-group">
                <button class="btn btn-secondary" id="back-to-experience">
                    <i class="fas fa-arrow-left"></i>
                    Back
                </button>
                <button class="btn btn-primary" id="continue-to-review">
                    <i class="fas fa-arrow-right"></i>
                    Continue to Final Review
                </button>
            </div>
        </div>
        
        <!-- Step 7: Final Review -->
        <div id="review-section" class="card hidden">
            <h2 class="card-title">
                <i class="fas fa-clipboard-check"></i>
                Final Review
            </h2>
            <div class="review-section">
                <div class="review-title">Personal Information</div>
                <div class="review-content" id="review-personal">
                    <!-- Personal info will be populated here -->
                </div>
            </div>
            <div class="review-section">
                <div class="review-title">Resume Title</div>
                <div class="review-content" id="review-title">
                    <!-- Title info will be populated here -->
                </div>
            </div>
            <div class="review-section">
                <div class="review-title">Client Experiences</div>
                <div class="review-content" id="review-clients">
                    <!-- Client experiences will be populated here -->
                </div>
            </div>
            <div class="review-section">
                <div class="review-title">Certifications</div>
                <div class="review-content" id="review-certifications">
                    <!-- Certifications will be populated here -->
                </div>
            </div>
            <div class="btn-group">
                <button class="btn btn-secondary" id="back-to-certifications">
                    <i class="fas fa-arrow-left"></i>
                    Back
                </button>
                <button class="btn btn-success" id="submit-resume">
                    <i class="fas fa-check"></i>
                    Submit Final Resume
                </button>
            </div>
        </div>
        
        <!-- Success Message -->
        <div id="success-section" class="card hidden">
            <div style="text-align: center; padding: 2rem;">
                <i class="fas fa-check-circle" style="font-size: 4rem; color: var(--success); margin-bottom: 1rem;"></i>
                <h2 style="margin-bottom: 1rem;">Resume Successfully Aligned!</h2>
                <p>Your resume has been processed and aligned with the job description. You can now download your customized resume.</p>
                <button class="btn btn-primary" style="margin-top: 1.5rem;">
                    <i class="fas fa-download"></i>
                    Download Resume
                </button>
            </div>
        </div>
    </div>

    <script>
        // Sample data to simulate backend processing
        const mockResumeData = {
            personal_info: {
                name: "Jane Smith",
                email: "jane.smith@example.com",
                phone: "+1-555-987-6543",
                linkedin: "https://www.linkedin.com/in/janesmith",
                resume_title: "Data Engineer"
            },
            number_clients: 3,
            clients: [
                {
                    company: "Company A",
                    role: "Software Engineer",
                    start_date: "2018-05-01",
                    end_date: "2019-12-31",
                    has_cloud_experience: "Yes",
                    cloud_mentioned: ["AWS", "Azure"],
                    domain_experience: ["Healthcare", "Retail"]
                },
                {
                    company: "Company B",
                    role: "Data Engineer",
                    start_date: "2020-01-01",
                    end_date: "2021-06-30",
                    has_cloud_experience: "No",
                    cloud_mentioned: [],
                    domain_experience: ["Logistics", "AI/ML"]
                },
                {
                    company: "Company C",
                    role: "Senior Data Engineer",
                    start_date: "2021-07-01",
                    end_date: "2023-08-31",
                    has_cloud_experience: "Yes",
                    cloud_mentioned: ["GCP"],
                    domain_experience: ["Finance", "Insurance"]
                }
            ],
            certifications: [
                "Certified Kubernetes Administrator",
                "Google Cloud Professional Data Engineer"
            ]
        };

        // DOM elements
        const sections = {
            upload: document.getElementById('upload-section'),
            process: document.getElementById('process-section'),
            personal: document.getElementById('personal-section'),
            clients: document.getElementById('clients-section'),
            experience: document.getElementById('experience-section'),
            certifications: document.getElementById('certifications-section'),
            review: document.getElementById('review-section'),
            success: document.getElementById('success-section')
        };

        const steps = document.querySelectorAll('.step');
        const progressBar = document.getElementById('progress');
        
        // Navigation buttons
        const processBtn = document.getElementById('process-btn');
        const backToUploadBtn = document.getElementById('back-to-upload');
        const continueToPersonalBtn = document.getElementById('continue-to-personal');
        const backToProcessBtn = document.getElementById('back-to-process');
        const continueToClientsBtn = document.getElementById('continue-to-clients');
        const backToPersonalBtn = document.getElementById('back-to-personal');
        const continueToExperienceBtn = document.getElementById('continue-to-experience');
        const backToClientsBtn = document.getElementById('back-to-clients');
        const continueToCertificationsBtn = document.getElementById('continue-to-certifications');
        const backToExperienceBtn = document.getElementById('back-to-experience');
        const continueToReviewBtn = document.getElementById('continue-to-review');
        const backToCertificationsBtn = document.getElementById('back-to-certifications');
        const submitResumeBtn = document.getElementById('submit-resume');

        // File upload
        const resumeUpload = document.getElementById('resume-upload');
        const fileUploadLabel = document.querySelector('.file-upload-label span');
        
        // Client count
        const clientCountSelect = document.getElementById('client-count');
        
        // Certification
        const certAddYes = document.getElementById('cert-add-yes');
        const certAddNo = document.getElementById('cert-add-no');
        const addCertificationBtn = document.getElementById('add-certification-btn');
        const newCertificationInput = document.getElementById('new-certification');
        const certificationsList = document.getElementById('certifications-list');
        
        // Event listeners
        resumeUpload.addEventListener('change', function(e) {
            if (e.target.files.length > 0) {
                fileUploadLabel.textContent = e.target.files[0].name;
                processBtn.disabled = false;
            }
        });
        
        processBtn.addEventListener('click', function() {
            showSection('process');
            updateProgress(2);
        });
        
        backToUploadBtn.addEventListener('click', function() {
            showSection('upload');
            updateProgress(1);
        });
        
        continueToPersonalBtn.addEventListener('click', function() {
            populatePersonalInfo();
            showSection('personal');
            updateProgress(3);
        });
        
        backToProcessBtn.addEventListener('click', function() {
            showSection('process');
            updateProgress(2);
        });
        
        continueToClientsBtn.addEventListener('click', function() {
            showSection('clients');
            updateProgress(4);
        });
        
        backToPersonalBtn.addEventListener('click', function() {
            showSection('personal');
            updateProgress(3);
        });
        
        continueToExperienceBtn.addEventListener('click', function() {
            const clientCount = parseInt(clientCountSelect.value);
            generateClientExperiences(clientCount);
            showSection('experience');
            updateProgress(5);
        });
        
        backToClientsBtn.addEventListener('click', function() {
            showSection('clients');
            updateProgress(4);
        });
        
        continueToCertificationsBtn.addEventListener('click', function() {
            showSection('certifications');
            updateProgress(6);
            setupCertificationListeners();
        });
        
        backToExperienceBtn.addEventListener('click', function() {
            showSection('experience');
            updateProgress(5);
        });
        
        continueToReviewBtn.addEventListener('click', function() {
            populateReviewSection();
            showSection('review');
            updateProgress(7);
        });
        
        backToCertificationsBtn.addEventListener('click', function() {
            showSection('certifications');
            updateProgress(6);
        });
        
        submitResumeBtn.addEventListener('click', function() {
            showSection('success');
            updateProgress(8);
        });
        
        certAddYes.addEventListener('change', function() {
            if (this.checked) {
                // No action needed for now, but could show additional options
            }
        });
        
        certAddNo.addEventListener('change', function() {
            if (this.checked) {
                // No action needed for now
            }
        });
        
        addCertificationBtn.addEventListener('click', function() {
            const certName = newCertificationInput.value.trim();
            if (certName) {
                addCertificationTag(certName);
                newCertificationInput.value = '';
            }
        });
        
        // Allow adding certification with Enter key
        newCertificationInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                const certName = newCertificationInput.value.trim();
                if (certName) {
                    addCertificationTag(certName);
                    newCertificationInput.value = '';
                }
            }
        });
        
        // Functions
        function showSection(sectionName) {
            Object.values(sections).forEach(section => {
                section.classList.add('hidden');
            });
            sections[sectionName].classList.remove('hidden');
        }
        
        function updateProgress(stepNumber) {
            const progressWidth = (stepNumber - 1) * (100 / 7);
            progressBar.style.width = `${progressWidth}%`;
            
            steps.forEach((step, index) => {
                if (index < stepNumber - 1) {
                    step.classList.add('completed');
                    step.classList.remove('active');
                } else if (index === stepNumber - 1) {
                    step.classList.add('active');
                    step.classList.remove('completed');
                } else {
                    step.classList.remove('active', 'completed');
                }
            });
        }
        
        function populatePersonalInfo() {
            document.getElementById('name').value = mockResumeData.personal_info.name;
            document.getElementById('email').value = mockResumeData.personal_info.email;
            document.getElementById('phone').value = mockResumeData.personal_info.phone;
            document.getElementById('linkedin').value = mockResumeData.personal_info.linkedin;
            document.getElementById('resume-title').value = mockResumeData.personal_info.resume_title;
        }
        
        function generateClientExperiences(count) {
            const container = document.getElementById('client-experience-container');
            container.innerHTML = '';
            
            for (let i = 0; i < count; i++) {
                const clientCard = document.createElement('div');
                clientCard.className = 'client-card';
                
                let clientData = {};
                if (i < mockResumeData.clients.length) {
                    clientData = mockResumeData.clients[i];
                } else {
                    clientData = {
                        company: "",
                        role: "",
                        start_date: "",
                        end_date: "",
                        has_cloud_experience: "No",
                        cloud_mentioned: [],
                        domain_experience: []
                    };
                }
                
                clientCard.innerHTML = `
                    <div class="client-header">
                        <div class="client-title">Client ${i + 1}</div>
                    </div>
                    <div class="form-group">
                        <label>Company Name</label>
                        <input type="text" class="client-company" value="${clientData.company}" placeholder="Enter company name">
                    </div>
                    <div class="form-group">
                        <label>Role</label>
                        <input type="text" class="client-role" value="${clientData.role}" placeholder="Enter your role">
                    </div>
                    <div class="form-group">
                        <label>Do you want to change your role according to JD?</label>
                        <div class="radio-group">
                            <div class="radio-option">
                                <input type="radio" id="role-change-yes-${i}" name="role-change-${i}" value="yes">
                                <label for="role-change-yes-${i}">Yes</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="role-change-no-${i}" name="role-change-${i}" value="no" checked>
                                <label for="role-change-no-${i}">No</label>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Start Date</label>
                        <input type="text" class="client-start-date" value="${clientData.start_date}" placeholder="e.g., Jan 2020">
                    </div>
                    <div class="form-group">
                        <label>End Date</label>
                        <input type="text" class="client-end-date" value="${clientData.end_date}" placeholder="e.g., Present or Dec 2022">
                    </div>
                    <div class="form-group">
                        <label>Cloud Experience</label>
                        <div class="radio-group">
                            <div class="radio-option">
                                <input type="radio" id="cloud-yes-${i}" name="cloud-${i}" value="yes" ${clientData.has_cloud_experience === 'Yes' ? 'checked' : ''}>
                                <label for="cloud-yes-${i}">Yes</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="cloud-no-${i}" name="cloud-${i}" value="no" ${clientData.has_cloud_experience === 'No' ? 'checked' : ''}>
                                <label for="cloud-no-${i}">No</label>
                            </div>
                        </div>
                    </div>
                    <div class="form-group cloud-details" style="display: ${clientData.has_cloud_experience === 'Yes' ? 'block' : 'none'};">
                        <label>We found these cloud platforms. Is this correct?</label>
                        <div id="cloud-list-${i}" class="tag-container">
                            ${clientData.cloud_mentioned.map(cloud => `
                                <div class="tag tag-cloud">
                                    ${cloud}
                                    <button class="remove-tag" data-index="${i}" data-cloud="${cloud}" data-type="cloud">
                                        <i class="fas fa-times"></i>
                                    </button>
                                </div>
                            `).join('')}
                        </div>
                        <div class="add-tag-container">
                            <input type="text" class="cloud-input" placeholder="Add a cloud platform" id="cloud-input-${i}">
                            <button class="btn btn-primary btn-sm add-cloud-btn" data-index="${i}">
                                <i class="fas fa-plus"></i>
                                Add
                            </button>
                        </div>
                        <label>Do you want to override cloud experience according to JD?</label>
                        <div class="radio-group">
                            <div class="radio-option">
                                <input type="radio" id="cloud-override-yes-${i}" name="cloud-override-${i}" value="yes">
                                <label for="cloud-override-yes-${i}">Yes</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="cloud-override-no-${i}" name="cloud-override-${i}" value="no" checked>
                                <label for="cloud-override-no-${i}">No</label>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Domain Experience</label>
                        <div id="domain-list-${i}" class="tag-container">
                            ${clientData.domain_experience.map(domain => `
                                <div class="tag tag-domain">
                                    ${domain}
                                    <button class="remove-tag" data-index="${i}" data-domain="${domain}" data-type="domain">
                                        <i class="fas fa-times"></i>
                                    </button>
                                </div>
                            `).join('')}
                        </div>
                        <div class="add-tag-container">
                            <input type="text" class="domain-input" placeholder="Add a domain" id="domain-input-${i}">
                            <button class="btn btn-primary btn-sm add-domain-btn" data-index="${i}">
                                <i class="fas fa-plus"></i>
                                Add
                            </button>
                        </div>
                    </div>
                `;
                
                container.appendChild(clientCard);
                
                // Add event listeners for cloud experience radio buttons
                const cloudYes = document.getElementById(`cloud-yes-${i}`);
                const cloudNo = document.getElementById(`cloud-no-${i}`);
                const cloudDetails = clientCard.querySelector('.cloud-details');
                
                cloudYes.addEventListener('change', function() {
                    if (this.checked) {
                        cloudDetails.style.display = 'block';
                    }
                });
                
                cloudNo.addEventListener('change', function() {
                    if (this.checked) {
                        cloudDetails.style.display = 'none';
                    }
                });
                
                // Add event listener for cloud input
                const cloudInput = document.getElementById(`cloud-input-${i}`);
                const addCloudBtn = clientCard.querySelector('.add-cloud-btn');
                
                addCloudBtn.addEventListener('click', function() {
                    const cloudName = cloudInput.value.trim();
                    if (cloudName) {
                        addCloudTag(i, cloudName);
                        cloudInput.value = '';
                    }
                });
                
                // Allow adding cloud with Enter key
                cloudInput.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        const cloudName = cloudInput.value.trim();
                        if (cloudName) {
                            addCloudTag(i, cloudName);
                            cloudInput.value = '';
                        }
                    }
                });
                
                // Add event listeners for remove cloud buttons
                const removeCloudButtons = clientCard.querySelectorAll('.remove-tag[data-type="cloud"]');
                removeCloudButtons.forEach(button => {
                    button.addEventListener('click', function() {
                        const clientIndex = parseInt(this.dataset.index);
                        const cloudName = this.dataset.cloud;
                        removeCloudTag(clientIndex, cloudName);
                    });
                });
                
                // Add event listener for domain input
                const domainInput = document.getElementById(`domain-input-${i}`);
                const addDomainBtn = clientCard.querySelector('.add-domain-btn');
                
                addDomainBtn.addEventListener('click', function() {
                    const domainName = domainInput.value.trim();
                    if (domainName) {
                        addDomainTag(i, domainName);
                        domainInput.value = '';
                    }
                });
                
                // Allow adding domain with Enter key
                domainInput.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        const domainName = domainInput.value.trim();
                        if (domainName) {
                            addDomainTag(i, domainName);
                            domainInput.value = '';
                        }
                    }
                });
                
                // Add event listeners for remove domain buttons
                const removeDomainButtons = clientCard.querySelectorAll('.remove-tag[data-type="domain"]');
                removeDomainButtons.forEach(button => {
                    button.addEventListener('click', function() {
                        const clientIndex = parseInt(this.dataset.index);
                        const domainName = this.dataset.domain;
                        removeDomainTag(clientIndex, domainName);
                    });
                });
            }
        }
        
        function addCloudTag(clientIndex, cloudName) {
            const cloudList = document.getElementById(`cloud-list-${clientIndex}`);
            const tag = document.createElement('div');
            tag.className = 'tag tag-cloud';
            tag.innerHTML = `
                ${cloudName}
                <button class="remove-tag" data-index="${clientIndex}" data-cloud="${cloudName}" data-type="cloud">
                    <i class="fas fa-times"></i>
                </button>
            `;
            cloudList.appendChild(tag);
            
            // Add event listener to the remove button
            tag.querySelector('.remove-tag').addEventListener('click', function() {
                removeCloudTag(clientIndex, cloudName);
            });
        }
        
        function removeCloudTag(clientIndex, cloudName) {
            const cloudList = document.getElementById(`cloud-list-${clientIndex}`);
            const tags = cloudList.querySelectorAll('.tag');
            tags.forEach(tag => {
                if (tag.textContent.trim().startsWith(cloudName)) {
                    tag.remove();
                }
            });
        }
        
        function addDomainTag(clientIndex, domainName) {
            const domainList = document.getElementById(`domain-list-${clientIndex}`);
            const tag = document.createElement('div');
            tag.className = 'tag tag-domain';
            tag.innerHTML = `
                ${domainName}
                <button class="remove-tag" data-index="${clientIndex}" data-domain="${domainName}" data-type="domain">
                    <i class="fas fa-times"></i>
                </button>
            `;
            domainList.appendChild(tag);
            
            // Add event listener to the remove button
            tag.querySelector('.remove-tag').addEventListener('click', function() {
                removeDomainTag(clientIndex, domainName);
            });
        }
        
        function removeDomainTag(clientIndex, domainName) {
            const domainList = document.getElementById(`domain-list-${clientIndex}`);
            const tags = domainList.querySelectorAll('.tag');
            tags.forEach(tag => {
                if (tag.textContent.trim().startsWith(domainName)) {
                    tag.remove();
                }
            });
        }
        
        function setupCertificationListeners() {
            // Add event listeners for remove certification buttons
            const removeCertButtons = document.querySelectorAll('#certifications-list .remove-tag');
            removeCertButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const certName = this.dataset.cert;
                    removeCertificationTag(certName);
                });
            });
        }
        
        function addCertificationTag(certName) {
            const certTag = document.createElement('div');
            certTag.className = 'tag tag-cert';
            certTag.innerHTML = `
                ${certName}
                <button class="remove-tag" data-cert="${certName}">
                    <i class="fas fa-times"></i>
                </button>
            `;
            certificationsList.appendChild(certTag);
            
            // Add event listener to the remove button
            certTag.querySelector('.remove-tag').addEventListener('click', function() {
                removeCertificationTag(certName);
            });
        }
        
        function removeCertificationTag(certName) {
            const certTags = certificationsList.querySelectorAll('.tag');
            certTags.forEach(tag => {
                if (tag.textContent.trim().startsWith(certName)) {
                    tag.remove();
                }
            });
        }
        
        function populateReviewSection() {
            // Personal Info
            const reviewPersonal = document.getElementById('review-personal');
            reviewPersonal.innerHTML = `
                <div class="review-item"><strong>Name:</strong> ${document.getElementById('name').value}</div>
                <div class="review-item"><strong>Email:</strong> ${document.getElementById('email').value}</div>
                <div class="review-item"><strong>Phone:</strong> ${document.getElementById('phone').value}</div>
                <div class="review-item"><strong>LinkedIn:</strong> ${document.getElementById('linkedin').value}</div>
            `;
            
            // Resume Title
            const reviewTitle = document.getElementById('review-title');
            const titleChange = document.querySelector('input[name="title-change"]:checked').value;
            const currentTitle = document.getElementById('resume-title').value;
            reviewTitle.innerHTML = `
                <div class="review-item"><strong>Current Title:</strong> ${currentTitle}</div>
                <div class="review-item"><strong>Update according to JD:</strong> ${titleChange === 'yes' ? 'Yes' : 'No'}</div>
            `;
            
            // Client Experiences
            const reviewClients = document.getElementById('review-clients');
            const clientCards = document.querySelectorAll('.client-card');
            let clientsHTML = '';
            
            clientCards.forEach((card, index) => {
                const company = card.querySelector('.client-company').value;
                const role = card.querySelector('.client-role').value;
                const startDate = card.querySelector('.client-start-date').value;
                const endDate = card.querySelector('.client-end-date').value;
                const roleChange = card.querySelector(`input[name="role-change-${index}"]:checked`).value;
                
                // Get cloud experiences
                const cloudTags = card.querySelectorAll('#cloud-list-' + index + ' .tag-cloud');
                const clouds = Array.from(cloudTags).map(tag => tag.textContent.trim().replace(/\s*$/, ''));
                
                // Get domain experiences
                const domainTags = card.querySelectorAll('#domain-list-' + index + ' .tag-domain');
                const domains = Array.from(domainTags).map(tag => tag.textContent.trim().replace(/\s*$/, ''));
                
                clientsHTML += `
                    <div style="margin-bottom: 1rem;">
                        <div class="review-item"><strong>Company ${index + 1}:</strong> ${company}</div>
                        <div class="review-item"><strong>Role:</strong> ${role}</div>
                        <div class="review-item"><strong>Dates:</strong> ${startDate} - ${endDate}</div>
                        <div class="review-item"><strong>Update role according to JD:</strong> ${roleChange === 'yes' ? 'Yes' : 'No'}</div>
                        <div class="review-item"><strong>Cloud Experience:</strong> ${clouds.join(', ') || 'None'}</div>
                        <div class="review-item"><strong>Domain Experience:</strong> ${domains.join(', ') || 'None'}</div>
                    </div>
                `;
            });
            
            reviewClients.innerHTML = clientsHTML;
            
            // Certifications
            const reviewCertifications = document.getElementById('review-certifications');
            const certTags = certificationsList.querySelectorAll('.tag');
            const certAdd = document.querySelector('input[name="cert-add"]:checked').value;
            
            let certHTML = '';
            certTags.forEach(tag => {
                certHTML += `<div class="review-item"><strong>Certification:</strong> ${tag.textContent}</div>`;
            });
            certHTML += `<div class="review-item"><strong>Add certifications according to JD:</strong> ${certAdd === 'yes' ? 'Yes' : 'No'}</div>`;
            
            reviewCertifications.innerHTML = certHTML;
        }
    </script>
</body>
</html>
